# City Recommendation System Ideation

## 1. 문제 정의 (Problem)
- 현재: "최저가" 기준으로만 도시를 선정하다보니, 특정 저가 도시(예: 후쿠오카, 오사카, 방콕 등)만 반복됨.
- 목표: 다양한 도시를 다루고 싶음. "내가 볼 수 있는" 알림 시스템 필요.

## 2. 추천 로직 아이디어 (Recommendation Logic)
단순 최저가가 아닌, **"왜 이 도시를 추천하는가?"**에 대한 명분을 만드는 것이 핵심.

### A. 다양성 확보 전략 (Diversity Vectors)
1.  **대륙/권역 로테이션 (Region Rotation)**
    - 일본 -> 동남아 -> 유럽 -> 미주 -> 대양주 순서로 강제 로테이션.
    - 예: 어제 '도쿄'가 나갔다면, 오늘은 무조건 '동남아' 중에서 찾기.
2.  **테마별 추천 (Theme)**
    - 휴양지(비치) vs 도심(쇼핑/관광) vs 자연(트레킹)
    - 예: 이번 주는 '휴양지' 주간.
3.  **가성비(Value) 기준 (Not just cheap)**
    - 절대 가격이 싼 곳이 아니라, **"평소 가격 대비 할인율이 높은 곳"**
    - 예: 파리가 평소 120만원인데 90만원이 떴다면, 오사카 20만원보다 우선 추천.
4.  **시즌성 (Seasonality)**
    - 지금 가야 가장 좋은 날씨인 도시.
    - 예: 12월엔 삿포로(눈), 2월엔 태국(건기).

### B. 중복 방지 (Anti-Repetition)
- **Cooldown 시스템**: 한 번 추천된 도시는 N일(예: 30일) 동안 추천 목록에서 제외.
- **최근 이력 체크**: 최근 5회 추천 내역과 겹치지 않는 권역 우선.

## 3. 슬랙 알림 포맷 (Slack Notification)
매일 오전 9시 (또는 지정 시간) 발송.

> **📢 오늘의 콘텐츠 추천: [도시명]**
>
> *   **추천 이유**: 🏆 평소보다 30% 저렴해요! / ☀️ 지금 날씨가 환상적이에요. / 🌏 오랜만에 유럽 어때요?
> *   **최저가**: 000,000원 (항공사: XX항공)
> *   **최근 다룬지**: 45일 지났습니다. (또는 "처음 추천!")
> *   [링크] 바로 확인하기

## 4. 기술적 구조 (Architecture)
- **Data Source**: 현재 수집 중인 항공권 데이터 활용 (또는 추가 수집).
- **Backend**: Supabase Edge Function (Scheduled Cron).
- **Database**: `recommendation_history` 테이블 생성 (중복 체크용).
- **Output**: Slack Incoming Webhook.

## 5. 사용자 피드백 요청 (Questions)
- 위 로직 중 가장 마음에 드는 "추천 기준"은? (예: 할인율 vs 권역 로테이션)
- 알림 빈도는? (매일? 주 3회?)
- 현재 보유한 항공권 데이터가 전 세계 대상인지, 아니면 특정 리스트가 있는지?
